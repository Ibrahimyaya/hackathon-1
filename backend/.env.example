# ============================================================================
# Crawling Configuration
# ============================================================================
# Target Docusaurus site root URL (required)
DOCS_URL=https://docs.example.com

# Maximum number of pages to crawl per session (default: 1000)
CRAWL_MAX_PAGES=1000

# Timeout in seconds per page crawl (default: 10)
CRAWL_TIMEOUT_SECONDS=10

# Follow external links (default: false, stay on same domain only)
CRAWL_FOLLOW_EXTERNAL_LINKS=false

# Crawl delay in milliseconds between requests (default: 500ms to avoid rate limiting)
CRAWL_DELAY_MS=500

# ============================================================================
# Chunking Configuration
# ============================================================================
# Minimum chunk size in tokens (default: 256)
CHUNK_MIN_TOKENS=256

# Maximum chunk size in tokens (default: 512, recommended for embeddings)
CHUNK_MAX_TOKENS=512

# Overlap between chunks in tokens for context preservation (default: 50)
CHUNK_OVERLAP_TOKENS=50

# ============================================================================
# Cohere API Configuration
# ============================================================================
# Cohere API key (REQUIRED - get from https://cohere.com/)
COHERE_API_KEY=your_cohere_api_key_here

# Cohere embedding model identifier (default: embed-english-v3.0)
COHERE_MODEL=embed-english-v3.0

# Batch size for embedding requests (default: 100, max: 100)
COHERE_BATCH_SIZE=100

# ============================================================================
# Qdrant Configuration
# ============================================================================
# Qdrant Cloud API key (REQUIRED - get from https://qdrant.io/)
QDRANT_API_KEY=your_qdrant_api_key_here

# Qdrant Cloud endpoint (e.g., https://cluster-name.qdrant.io:6333)
# For local development: http://localhost:6333
QDRANT_URL=https://your-cluster.qdrant.io:6333

# Collection name for storing embeddings (default: docs_chunks)
QDRANT_COLLECTION_NAME=docs_chunks

# Vector dimension (must match Cohere model output: 1024 for embed-english-v3.0)
QDRANT_VECTOR_SIZE=1024

# Recreate collection on init (dev only - data loss!) (default: false)
QDRANT_RECREATE_COLLECTION=false

# ============================================================================
# Claude API Configuration (for RAG Chatbot)
# ============================================================================
# Claude API key (REQUIRED - get from https://console.anthropic.com/)
CLAUDE_API_KEY=sk-ant-your_claude_api_key_here

# Claude model identifier (default: claude-3-5-haiku-20241022)
# Options: claude-3-5-haiku-20241022, claude-3-5-sonnet-20241022, claude-opus-4-1-20250805
CLAUDE_MODEL=claude-3-5-haiku-20241022

# Maximum tokens in Claude response (default: 2000)
CLAUDE_MAX_TOKENS=2000

# Temperature for Claude sampling: 0.0 (deterministic) to 1.0 (creative) (default: 0.7)
CLAUDE_TEMPERATURE=0.7

# ============================================================================
# RAG Configuration (for RAG Chatbot)
# ============================================================================
# Number of document chunks to retrieve for context (default: 5)
RAG_TOP_K=5

# Minimum similarity score for chunk retrieval: 0.0 to 1.0 (default: 0.3)
RAG_SCORE_THRESHOLD=0.3

# Maximum number of conversation turns to maintain in context (default: 5)
RAG_MAX_HISTORY_TURNS=5

# Maximum tokens to use for context + history (default: 8000)
RAG_CONTEXT_WINDOW=8000

# ============================================================================
# API Configuration (for FastAPI server)
# ============================================================================
# API host binding (default: 0.0.0.0)
API_HOST=0.0.0.0

# API port (default: 8000)
API_PORT=8000

# CORS allowed origins (comma-separated, required for web deployment)
# Example: https://final-sandy-psi.vercel.app,https://mysite.com
# For local development: http://localhost:3000
CORS_ORIGINS=http://localhost:3000

# ============================================================================
# Logging & Debugging
# ============================================================================
# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL (default: INFO)
LOG_LEVEL=INFO

# Log format: json (structured) or human (human-readable) (default: json)
LOG_FORMAT=json

# ============================================================================
# Notes for Setup
# ============================================================================
# 1. Get Cohere API Key:
#    - Sign up: https://cohere.com/
#    - Create API key in dashboard
#    - Free tier: Suitable for development/testing
#
# 2. Get Qdrant Cloud:
#    - Sign up: https://qdrant.io/
#    - Create cluster
#    - Free tier: Suitable for development/testing
#
# 3. Get Claude API Key (for RAG Chatbot):
#    - Sign up: https://console.anthropic.com/
#    - Create API key in settings
#    - Free tier: Suitable for development/testing
#
# 4. Test your configuration:
#    - Run: python backend/main.py --validate
#    - Verify Cohere key, Qdrant connectivity, and docs URL reachability
#
# 5. For local development with Qdrant:
#    - Run Qdrant Docker: docker run -p 6333:6333 qdrant/qdrant
#    - Set QDRANT_URL=http://localhost:6333
#
# 6. To run the RAG Chatbot:
#    - Ensure all required environment variables are set
#    - Run: python backend/chat.py
