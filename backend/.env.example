# RAG Documentation Ingestion Pipeline Configuration
# Copy this file to .env and fill in the required values

# ============================================================================
# Crawling Configuration
# ============================================================================

# Target Docusaurus documentation site root URL (required)
# Example: https://docs.docusaurus.io or https://docs.example.com
DOCS_URL=https://docs.example.com

# Maximum number of pages to crawl per session (prevents runaway crawling)
# Default: 1000
CRAWL_MAX_PAGES=1000

# Per-page HTTP request timeout in seconds
# Default: 10
CRAWL_TIMEOUT_SECONDS=10

# Whether to follow external links (only follow same-domain links if false)
# Default: false
CRAWL_FOLLOW_EXTERNAL_LINKS=false

# ============================================================================
# Text Chunking Configuration
# ============================================================================

# Minimum chunk size in tokens (for semantic chunking)
# Default: 256
CHUNK_MIN_TOKENS=256

# Maximum chunk size in tokens (recommended: 256-512 for optimal embedding)
# Default: 512
CHUNK_MAX_TOKENS=512

# Token overlap between chunks for context preservation
# Default: 50
CHUNK_OVERLAP_TOKENS=50

# ============================================================================
# Cohere API Configuration
# ============================================================================

# Cohere API key (required for embeddings)
# Get your free API key at: https://cohere.com/
COHERE_API_KEY=your_cohere_api_key_here

# Cohere embedding model identifier
# Default: embed-english-v3.0 (produces 1024-dimensional vectors)
COHERE_MODEL=embed-english-v3.0

# Batch size for embedding requests (max 100 chunks per request)
# Default: 100
COHERE_BATCH_SIZE=100

# ============================================================================
# Qdrant Cloud Configuration
# ============================================================================

# Qdrant Cloud API key (required for vector storage)
# Get your free account at: https://qdrant.io/
QDRANT_API_KEY=your_qdrant_api_key_here

# Qdrant Cloud URL (includes cluster identifier and port)
# Format: https://<cluster-id>.qdrant.io:6333
# Example: https://abcd1234-5678-9abc-def0-1234567890ab.qdrant.io:6333
QDRANT_URL=https://your-cluster-id.qdrant.io:6333

# Collection name for storing documentation embeddings
# Default: docs_chunks
QDRANT_COLLECTION_NAME=docs_chunks

# Vector dimension size (must match embedding model output)
# Cohere embed-english-v3.0: 1024
# Default: 1024
QDRANT_VECTOR_SIZE=1024

# Recreate collection if it exists (dev/testing only)
# WARNING: This will delete existing embeddings
# Default: false
QDRANT_RECREATE_COLLECTION=false

# ============================================================================
# Logging & Debugging
# ============================================================================

# Logging level: DEBUG, INFO, WARNING, ERROR, CRITICAL
# Default: INFO
LOG_LEVEL=INFO

# Logging format: json for structured logging, human for readable output
# Default: json (recommended for production)
LOG_FORMAT=json

# Enable verbose debug logging
# Default: false
DEBUG=false
